{{ layout }}
<hr>

<script src="https://code.jquery.com/jquery-3.3.1.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>

<div class="row">
    <div class="col-lg-4">
        <form action="/addProducts" method="post">
            <fieldset>
                <label>Product Name</label>
                <input class="form-control" name="proName" />
            </fieldset>
            <br>
            <fieldset>
                <label>Product Price</label>
                <input class="form-control" name="proPrice" />
            </fieldset>
            <br>
            <div class="form-group">
                <label>Product Category </label>
                <select class="form-control" name="category">
                    {{#categories}}
                    <option value="{{_id}}">{{name}} </option>
                    {{/categories}}
                </select>
            </div>
            <br>
            <button type="submit" class="btn btn-secondary">Add Product</button>
        </form>
    </div>
    <div class="col col-xl-8 col-lg-12">
        <script>
            $(document).ready(function () {
                $('#example').DataTable();
            });
        </script>
        <table id="example" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th>Product Name</th>
                    <th>Price</th>
                    <th>Category id</th>
                    <th>Category Name</th>
                </tr>
            </thead>
            <tbody>
                {{#products}}
                <tr>
                    <td>{{name}}</td>
                    <td>{{price}}</td>
                    <td>{{category._id}}</td>
                    <td>{{category.name}}</td>
                </tr>
                {{/products}}
            </tbody>
        </table>
    </div>
</div>
